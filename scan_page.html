<!DOCTYPE html>
<html lang="en">

<head>
	<title>Notice Page</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Latest compiled and minified CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/notice.css">

	<!-- Latest compiled JavaScript -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		$(document).ready(function () {
			const fetne = () => {
				$.ajax({
					url: "http://192.168.200.218:8080/MobileReception/compackr/loginchk?key=0582668301&mobile_cd=67&login_id=67&login_pw=67",
					headers: {
						'Access-Control-Allow-Origin': '*',
						'Content-Type': 'application/json'
					},
					success: function (result) {
						console.log(result)
					}
				});
			}

			fetne();
			$("#test").click(function () {
				fetne();
			});

		});
	</script>
	<style>
		.result {
			background-color: green;
			color: #fff;
			padding: 20px;
		}

		.row {
			display: flex;
		}

		#blah,
		#image2,
		#image3 {
			width: 200px;
			height: 200px;
		}

		.modal.fade.show {
			display: block;
		}

		#camera {
			display: none;
		}

		#camera.show {
			display: block;
		}

		.video-screenshot {
			display: grid;
			grid-template-columns: 1fr 1fr;
			grid-column-gap: 10px;
		}

		.is-hidden {
			display: none;
		}

		#video {
			width: 100%;
		}
	</style>
</head>

<body>
	<div class="nav flex-row justify-content-evenly nav-pills me-3" id="v-pills-tab" role="tablist"
		aria-orientation="vertical">
		<button class="nav-link active" id="v-pills-profile-tab" data-bs-toggle="pill" data-bs-target="#v-pills-profile"
			type="button" role="tab" aria-controls="v-pills-profile" aria-selected="false">3</button>
		<button class="nav-link" id="v-pills-messages-tab" data-bs-toggle="pill" data-bs-target="#v-pills-messages"
			type="button" role="tab" aria-controls="v-pills-messages" aria-selected="false">2</button>
		<button class="nav-link" id="v-pills-settings-tab" data-bs-toggle="pill" data-bs-target="#v-pills-settings"
			type="button" role="tab" aria-controls="v-pills-settings" aria-selected="false">2</button>
	</div>
	<div class="tab-content" id="v-pills-tabContent">
		<div class="tab-pane fade show active" id="v-pills-profile" role="tabpanel"
			aria-labelledby="v-pills-profile-tab">
			<form runat="server">
				<input accept="image/*" type='file' id="imgInp" style="display: none;" />
				<img id="blah" src="./images/image.png" alt="your image" onclick="takePhoto('imgInp')" />
			</form>

			<!-- <div id="camera">
						<div class=btns>
							<button class="button is-hidden" id=btnPlay>Play camera</button>
							<button class=button id=btnPause>Stop camera</button> <button class=button
								id=btnScreenshot>Chụp hình</button>
							<button class=button id=btnChangeCamera style="padding: 6px 10px;">Đổi camera</button>
						</div>
						<div class=video-screenshot>
							<video autoplay id=video></video>
							<div>
								<div id=screenshotsContainer><canvas id=canvas class=is-hidden></canvas></div>
							</div>
						</div>
					</div> -->

		</div>
		<div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab">
			<form runat="server">
				<input accept="image/*" type='file' id="imgInp2" style="display: none;" />
				<img id="image2" src="./images/image.png" alt="your image" onclick="takePhoto('imgInp2')" />
			</form>

		</div>
		<div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab">
			<form runat="server">
				<input accept="image/*" type='file' id="imgInp3" style="display: none;" />
				<img id="image3" src="./images/image.png" alt="your image" onclick="takePhoto('imgInp3')" />
			</form>

		</div>
	</div>


	<div class="container">
		<div class="row">
			<div class="col-3">
				<p class="login100-form-title">
					区分１
				</p>
			</div>

			<div class="col-9">
				<select class="form-select" aria-label="Default select example">
					<option selected>Open this select menu</option>
					<option value="1">One</option>
					<option value="2">Two</option>
					<option value="3">Three</option>
				</select>
			</div>
		</div>

		<br>
		<div class="row">
			<div class="col-3">
				<span class="login100-form-title p-b-41">
					区分２
				</span>
			</div>

			<div class="col-9">
				<select class="form-select" aria-label="Default select example">
					<option selected>Open this select menu</option>
					<option value="1">One</option>
					<option value="2">Two</option>
					<option value="3">Three</option>
				</select>
			</div>
		</div>

		<br>


		<div class="row">
			<div class="col-3">
				<span class="login100-form-title p-b-41">
					メモ
				</span>
			</div>

			<div class="col-9">
				<textarea name="" id="" style="width: 100%; height: 100px"></textarea>
			</div>
		</div>

		<div class="row">
			<div class="col-3">
				<span class="login100-form-title p-b-41">
					日時
				</span>
			</div>

			<div class="col-9">
				<div class="row">
					<div class="col-8">
						<input id="txtTimeValue" type="text" id="country" name="country" value="" style="text-align: center; width: 100%; padding-right: 10px !important" readonly><br>
					</div>

					<div class="col-4">
						<button style="width:100%" id="btnTime" onclick="showTime()">取得</button>
					</div>
				</div>
			</div>
		</div>
	</div>



	<!-- Modal -->
	<!-- <div class="modal fade" id="notificationLogin" data-bs-backdrop="static" tabindex="1"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-body">
					<div class="alert alert-warning" role="alert">
						完全な情報を入力してください。
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" onClick="closeModal()">Close</button>
				</div>
			</div>
		</div>
	</div> -->

	<script type="text/javascript">
		const openModal = () => {
			document.getElementById('exampleModal').classList.add("show");
		}
		const closeModal = () => {
			document.getElementById('exampleModal').classList.remove("show");
		}
		const takePhoto = (id) => {
			console.log(id);
			chooseFile(id);
			closeModal();
		}
		const takeCamera = () => {
			document.getElementById('camera').classList.add("show");
			closeModal();
		}
		const chooseFile = (id) => {
			document.getElementById(id).click();
		}
		imgInp.onchange = evt => {
			const [file] = imgInp.files
			if (file) {
				blah.src = URL.createObjectURL(file)
			}
		}
		imgInp2.onchange = evt => {
			console.log("22323")
			const [file] = imgInp2.files
			if (file) {
				image2.src = URL.createObjectURL(file)
			}
		}
		imgInp3.onchange = evt => {
			const [file] = imgInp3.files
			if (file) {
				image3.src = URL.createObjectURL(file)
			}
		}

		const showTime = () => {
			var m = new Date();
			var dateString = m.getUTCFullYear() +"/"+ (m.getUTCMonth()+1) +"/"+ m.getUTCDate() + " " + m.getUTCHours() + ":" + m.getUTCMinutes() + ":" + m.getUTCSeconds();
			
			document.getElementById('txtTimeValue').value = dateString;
		}

	</script>
	<!-- <script>
		window.onload = async function () {
			if (
				!"mediaDevices" in navigator ||
				!"getUserMedia" in navigator.mediaDevices
			) {
				document.write('Not support API camera')
				return;
			}

			const video = document.querySelector("#video");
			const canvas = document.querySelector("#canvas");
			const screenshotsContainer = document.querySelector("#screenshotsContainer");
			let videoStream = null
			let useFrontCamera = true; //camera trước
			const constraints = {
				video: {
					width: {
						min: 300,
						ideal: 360,
						max: 400,
					},
					height: {
						min: 300,
						ideal: 360,
						max: 400,
					}
				},
			};

			// play
			btnPlay.addEventListener("click", function () {
				video.play();
				btnPlay.classList.add("is-hidden");
			});



			btnChangeCamera.addEventListener("click", function () {
				useFrontCamera = !useFrontCamera;
				init();
			});


			function stopVideoStream() {
				if (videoStream) {
					videoStream.getTracks().forEach((track) => {
						track.stop();
					});
				}
			}

			btnScreenshot.addEventListener("click", function () {
				console.log("xdsxs")
				let img = document.getElementById('screenshot');
				if (!img) {
					img = document.createElement("img");
					img.id = 'screenshot';
					img.style.width = '100%';
				}
				canvas.width = video.videoWidth;
				canvas.height = video.videoHeight;
				canvas.getContext("2d").drawImage(video, 0, 0);
				img.src = canvas.toDataURL("image/png");
				screenshotsContainer.prepend(img);
			});

			async function init() {
				stopVideoStream();
				constraints.video.facingMode = useFrontCamera ? "user" : "environment";
				try {
					videoStream = await navigator.mediaDevices.getUserMedia(constraints);
					video.srcObject = videoStream;
				} catch (error) {
					console.log(error)
				}
			}
			init();
		}</script>
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111717926-1"></script>
	<script>function gtag() { dataLayer.push(arguments) } window.dataLayer = window.dataLayer || [], gtag("js", new Date), gtag("config", "UA-111717926-1")</script>
	<div>
		<script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle
			style="display:block; text-align:center;" data-ad-layout=in-article data-ad-format=fluid
			data-ad-client=ca-pub-1121308659421064 data-ad-slot=8232164616></ins>
		<script>(adsbygoogle = window.adsbygoogle || []).push({})</script> -->
</body>

<script src="js/notice.js"></script>

</html>