<!DOCTYPE html>
<html lang=en>

<head>
    <title>検針くん</title>
    <meta charset=UTF-8>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="format-detection" content="telephone=no" />
    <!--===============================================================================================-->
    <link rel="icon" type="image/png" href="images/icons/ic_uriage.png" />
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" id="bootstrap-css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/modal.css" />
    <link rel="stylesheet" type="text/css" href="css/purchase.css">
    <link rel="stylesheet" type="text/css" href="css/print_common.css">
    <link rel="stylesheet" type="text/css" href="css/purchase_print.css">
</head>

<body>

    <div id="backgroundPage">
        <div class="dropdown select-role">
            <div class="btn-menu btn-secondary dropdown-toggle" type="button" id="dropdownSelectRole"
                data-bs-toggle="dropdown" aria-expanded="false">
                <span class="text" id="userName"><i class="ic-dropdown fa-solid fa-user"></i><a id="name"></a></span>
            </div>
            <ul class="dropdown-menu" aria-labelledby="dropdownSelectRole">
                <li>
                    <a class="dropdown-item notice-page" id="menuOption">
                        <span class="text"><i class="ic-dropdown fa-solid fa-bars"></i>メニュー</span>
                    </a>
                </li>
                <li>
                    <a class="dropdown-item print-page" id="settingOption">
                        <span class="text"><i class="ic-dropdown fa-solid fa-gear"></i>設定</span>
                    </a>
                </li>
                <li class="dropdown-divider-wrap">
                    <hr class="dropdown-divider">
                </li>
                <li>
                    <a class="dropdown-item scan-page" id="logoutOption">
                        <span class="text"><i class="ic-dropdown logout fa-solid fa-right-from-bracket"></i>ログアウト</span>
                    </a>
                </li>
            </ul>
        </div>


        <div class="container-mainform" id="form">
            <div class="wrap-mainform p-t-30 p-b-40">

                <div id="editView">
                    <span id="titleForm">
                        売上記入
                    </span>

                    <div class="row content">
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text text mw135">顧客コード</span>
                                </div>

                                <span class="form-control text" id="kokyaku_kodo">00100001110</span>
                            </div> <!-- form-group// -->
                        </div>

                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text text mw135">顧客名</span>
                                </div>

                                <input class="form-control text" id="kokyaku-mei"></span>
                            </div> <!-- form-group// -->
                        </div>

                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text mw135 text">現金売/掛売</span>
                                </div>
                                <select class="custom-select form-control ta-l text" name="modeForm" id="modeForm">
                                    <option value="0">掛売</option>
                                    <option value="1">現金売</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div id="informationDetail">
                        <div class="row content">
                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">品   目</span>
                                    </div>
                                    <span class="form-control text" id="hinmoku">オートガス</span>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">品   番</span>
                                    </div>
                                    <span class="form-control text ta-c" id="hinban">12312</span>
                                </div>
                            </div>

                            <div class="col-12" id="group_prezandaka">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">当月請求額</span>
                                    </div>

                                    <span class="form-control ta-r text" type="text" id="preZandaka"></span>
                                    <span class="form-control unit text">円</span>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">数   量</span>
                                    </div>

                                    <input class="form-control ta-r text t-ip" type="text" id="sur" />
                                    <span class="form-control unit text" id="uriage_unit"></span>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">単   価</span>
                                    </div>

                                    <input class="form-control ta-r text t-ip" type="text" id="tank" />
                                    <span class="form-control unit text">円</span>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">金   額</span>
                                    </div>

                                    <input class="form-control ta-r text fw-b t-ip" type="text" id="kin" />
                                    <span class="form-control unit text fw-b">円</span>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">税区分/税率</span>
                                    </div>

                                    <select class="custom-select form-control ta-l text" name="modeForm" id="uriage_tax_select">
                                        <option value="0">未設定</option>
                                        <option value="1">非課税</option>
                                        <option value="2">内税</option>
                                        <option value="3">外税</option>
                                    </select>
                                    <input class="form-control ta-r text t-ip" type="text" id="uriage_tax_val" />
                                    <span class="form-control unit text">％</span>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">消 費 税</span>
                                    </div>

                                    <span class="form-control ta-r text" id="taxkin"></span>
                                    <span class="form-control unit text">円</span>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">合   計</span>
                                    </div>

                                    <span class="form-control ta-r text fw-b" id="total"></span>
                                    <span class="form-control unit text fw-b">円</span>
                                </div>
                            </div>
                        </div>

                        <div id="genkin_uri_area" class="row content">
                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text hover" id="cho_text">値引き</span>
                                    </div>

                                    <input class="form-control ta-r text fw-b" type="text" id="cho_val"/>
                                    <span class="form-control unit text fw-b">円</span>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text">預  り  金</span>
                                    </div>

                                    <input class="form-control ta-r text fw-b" type="text" id="azukari"/>
                                    <span class="form-control unit text fw-b">円</span>
                                </div>
                            </div>

                            <div class="col-12" id="nyuukin-group">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text hover" id="receipt_text">入  金  額</span>
                                    </div>

                                    <span class="form-control ta-r text fw-b" id="receipt_val"></span>
                                    <span class="form-control unit text fw-b">円</span>
                                </div>
                            </div>
                        </div>


                        <div class="row content">
                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw135 text" id="uriage_gen_name">差引残高</span>
                                    </div>

                                    <span class="form-control ta-r text fw-b" id="zandaka"></span>
                                    <span class="form-control unit text fw-b">円</span>
                                </div>
                            </div>
                        </div>

                        <!-- ------------------------------------------------------------------------- -->
                        <div class="row content" id="teisei-group">
                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw145 text">入金額</span>
                                    </div>

                                    <input class="form-control ta-r text" id="teisei-nyuukin" value="0" />
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text mw145 text">差引残高</span>
                                    </div>
                                    <span class="form-control ta-r text" id="Sashihiki_zandaka">0</span>
                                </div>
                            </div>

                            <div class="col-12" id="txtErrorTeisei">
                                <div class="form-group input-group">
                                    <span class="ta-l text" id="txtErrorTeiseiDetail">入金額は差引残高以上の値が入力できません。</span>
                                </div> <!-- form-group// -->
                            </div>

                            <div class="col-6 text-center">
                                <button id="cancel" class="btn btn-default text-center">戻る</button>
                            </div>

                            <div class="col-6 text-center">
                                <button id="teisei-sumi" class="btn btn-default text-center">確認</button>
                            </div>
                        </div>
                        <!-- ------------------------------------------------------------------------- -->
                    </div>


                    <div class="button-area">
                        <div class="row content">
                            <div class="col-4" id="layout_back">
                                <button type="button" class="btn btn-default text-center" id="backPageButton"><span
                                        class="fas fa-arrow-alt-circle-left ic-btn"></span><br>戻る</button>
                            </div>

                            <div class="col-4" id="editButton">
                                <button type="button" class="btn btn-default text-center" id="teisei"><span
                                        class="fas fa-pencil ic-btn"></span><br>訂正</button>
                            </div>

                            <div class="col-4" id="kakuninButton">
                                <button type="button" class="btn btn-default text-center"><span
                                        class="fas fa-play ic-btn"></span><br>確認</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="printView">
                    <!-- Content -->
                    <div id="printContent">
                        <div id="printContentDetail">
                            <div id="titleArea">
                                <span class="col-12 title-printView wsp-title ta-c titlePrintView" id="titlePrintView">領 収 書</span>
                            </div>


                            <div id="cusInfoArea">
                                <div class="text-print ta-l wsp-text sg-line">
                                    <span class="text-print item" id="hakkooBiKenshinBiTitle">発行日</span>
                                    <span class="text-print item" id="hakkooBiKenshinBi"></span>
                                </div>

                                <div class="frames-common bd-3">
                                    <div class="text-print ta-l wsp-text sg-line">コード:
                                        <span class="text-print item" id="codeVal"></span>
                                    </div>
                                    <div class="row">
                                        <div class="col-9 text-print ta-l wsp-text item" id="nameVal"></div>
                                        <div class="col-3 text-print ta-r wsp-text item" id="kNameVal">様</div>
                                    </div>
                                    <div class="text-print ta-l wsp-text sg-line" id="address0Val"></div>
                                    <div class="text-print ta-l wsp-text sg-line" id="address1Val"></div>
                                </div>
                            </div>


                            <div id="hmInfoArea">
                                <div class="row">
                                    <div class="col-12 text-print ta-l wsp-text item" id="hmInfoHeaderVal"></div>
                                </div>

                                <table id="hmInfoTable">
                                    <tr class="hmInfoHeader" id="hmInfoHeaderText">
                                        <td class="text-print ta-c item hmw-16">月日</td>
                                        <td class="text-print ta-c item hmw-20 hinmoku">品 目</td>
                                        <td class="text-print ta-c item hmw-20">数 量</td>
                                        <td class="text-print ta-c item hmw-20 tanka">単 価</td>
                                        <td class="text-print ta-c item hmw-24">金 額</td>
                                    </tr>

                                    <tr class="hmInfoHeader" id="hmInfoTotal">
                                        <td class="text-print ta-c w-16 hmInfoTable-item">
                                        </td>
                                        <td class="text-print ta-l w-20 hinmoku hmInfoTable-item">
                                            消費税</td>
                                        <td class="text-print ta-c w-20 hmInfoTable-item">
                                        </td>
                                        <td class="text-print ta-c w-20 tanka hmInfoTable-item">
                                        </td>
                                        <td class="text-print ta-r w-24 hmInfoTable-item" id="nTaxVal">
                                            0</td>
                                    </tr>
                                </table>

                                <div class="frames-common bd-1 mt--1" id="infoTaxArea">
                                    <div class="row">
                                        <div class="col-7 text-print ta-l wsp-text item" id="hmefTaxKeigenTotalVal"></div>
                                        <div class="col-5 text-print ta-r wsp-text item valLine" id="hmefKinVal"></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-7 text-print ta-l wsp-text item" id="hmefTaxKeigenTaxVal"></div>
                                        <div class="col-5 text-print ta-r wsp-text item valLine" id="hmefTaXVal"></div>
                                    </div>
                                </div>

                                <div class="frames-common bd-3 mt--1" id="honjitsuUriageKingakuArea">
                                    <div class="row">
                                        <div class="col-6 text-print ta-l fw-b wsp-text item">本日売上金額</div>
                                        <div class="col-6">
                                            <div class="text-print ta-r fw-b wsp-text item valLine" id="honjitsuUriageKingakuVal">0</div>
                                            <div class="text-print ta-r fw-b wsp-text item unitLine">円</div>
                                        </div>
                                    </div>
                                </div>

                                <div id="honjitsuUriageKingakuCmt">
                                    <div class="text-print ta-l wsp-text item">上記の通り納品致しました。有難うございました。</div>
                                </div>

                            </div>


                            <div id="RyoSyuInfo">
                                <div class="frames-common bd-3" id="genkin_uri_print_area">
                                    <div class="row" id="konkaiSeikyuGakuArea">
                                        <div class="col-6 text-print ta-l wsp-text item konkaiSeikyuuGaku-text">今回請求額</div>
                                        <div class="col-6">
                                            <div class="text-print ta-r wsp-text item valLine kk-val" id="konkaiSeikyuGakuVal">0</div>
                                            <div class="text-print ta-r wsp-text item unitLine kk-val">円</div>
                                        </div>
                                    </div>

                                    <div class="row" id="choTitleArea">
                                        <div class="col-6 text-print ta-l wsp-text item" id="choTitleText"></div>
                                        <div class="col-6">
                                            <div class="text-print ta-r wsp-text item valLine" id="choTitleVal">0</div>
                                            <div class="text-print ta-r wsp-text item unitLine">円</div>
                                        </div>
                                    </div>

                                    <div class="row" id="honjitsuNyuuKingakuArea">
                                        <div class="col-6 text-print ta-l wsp-text item" id="honjitsuNyuuKingakuText"></div>
                                        <div class="col-6">
                                            <div class="text-print ta-r wsp-text item valLine" id="honjitsuNyuuKingakuVal">0</div>
                                            <div class="text-print ta-r wsp-text item unitLine">円</div>
                                        </div>
                                    </div>

                                    <div class="row" id="otsuriArea">
                                        <div class="col-6 text-print ta-l wsp-text item">おつり</div>
                                        <div class="col-6">
                                            <div class="text-print ta-r wsp-text item valLine" id="otsuriVal">0</div>
                                            <div class="text-print ta-r wsp-text item unitLine">円</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="frames-common bd-3 mt--3" id="sashihikiZandakaArea">
                                    <div class="row">
                                        <div class="col-6 text-print ta-l fw-b wsp-text item">差引残高</div>
                                        <div class="col-6">
                                            <div class="text-print ta-r fw-b wsp-text item valLine" id="sashihikiZandakaVal">0</div>
                                            <div class="text-print ta-r fw-b wsp-text item unitLine">円</div>
                                        </div>
                                    </div>
                                </div>

                                <div id="RyoshuArea">
                                    <div class="row">
                                        <div class="col-8 text-print ta-l wsp-text" id="ryoshuDetail">
                                            <span class="text-print ta-l fw-b wsp-text ryooshuu-text ryooshuuKingaku">領収金額</span>
                                            <span class="text-print ta-l fw-b wsp-text ryooshuu-text ryooshuuKingaku" id="ryooshuuKingakuVal">0円</span>
                                        </div>
                                        <div class="col-4">
                                            <div class="bd-3 text-print ta-c wsp-text item">
                                                領 収 印
                                            </div>
    
                                            <div class="bd-3 ta-c" id="ryooOsamuShirushiArea">
    
                                            </div>
                                        </div>
                                    </div>
    
                                    <div class="row" id="ryoshuText">
                                        <div class="col-12 text-print ta-l wsp-text item">上記の通り領収致しました。有難うございました。</div>
                                    </div>
                                </div>
                            </div>


                            <div class="frames-common bd-1" id="commentArea">
                                <div class="row" id="commentDetailArea">
                                </div>
                            </div>


                            <div id="userInfoArea">
                                <div class="frames-common bd-3" id="addArea">
                                    <div class="row">
                                        <div class="col-12 text-print ta-l wsp-text item" id="mNameVal"></div>
                                        <div class="col-12 text-print ta-l wsp-text item" id="add1Val"></div>
                                        <div class="col-12 text-print ta-l wsp-text item" id="add2Val"></div>
                                    </div>
                                </div>

                                <div class="frames-common bd-3 mt--3" id="addArea">
                                    <div class="row">
                                        <div class="col-2 text-print ta-l wsp-text item">TEL</div>
                                        <div class="col-4 text-print ta-l wsp-text item" id="telVal"></div>
                                        <div class="col-6 text-print ta-l wsp-text item">(担当)</div>
                                    </div>
                                    <div class="row">
                                        <div class="col-2 text-print ta-l wsp-text item">FAX</div>
                                        <div class="col-4 text-print ta-l wsp-text item" id="faxVal"></div>
                                        <div class="col-6 text-print ta-l wsp-text item" id="tantnameFaxVal">
                                        </div>
                                    </div>
                                </div>

                                <div class="frames-common bd-3 mt--3" id="bkInfoArea">
                                    <div class="row">
                                        <div class="col-12 text-print ta-l wsp-text item" id="bkname0&Shiten0"></div>
                                        <div class="col-12 text-print ta-l wsp-text item" id="bkKubun0&Ban0"></div>
                                        <div class="col-12 text-print ta-l wsp-text item" id="bkname1&Shiten1"></div>
                                        <div class="col-12 text-print ta-l wsp-text item" id="bkKubun1&Ban1"></div>
                                    </div>
                                </div>
                            </div>


                            <div class="end-space"></div>
                        </div>
                    </div>

                    <!-- Button -->
                    <div class="row content button-area">
                        <div class="col-6">
                            <button type="button" class="btn btn-default text-center" id="backPrintButton">
                                <span class="fas fa-arrow-alt-circle-left"></span><br />戻る
                            </button>
                        </div>
                        <div class="col-6">
                            <button type="button" class="btn btn-default text-center" id="sendToAppButton">
                                <span class="fas fa-print"></span><br />印刷
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- The Modal -->
            <div id="myModal" class="modal">
                <!-- Modal content -->
                <div class="modal-content">
                    <!-- Modal image area -->
                    <div class="modal-image-area background-error-modal">
                        <span class="modal-close-button">X</span>
                        <img id="imgStatusModal" class="modal-image">
                    </div>

                    <!-- Modal message area -->
                    <div class="modal-message">
                        <div class="modal-message-area">
                            <span class="title-modal text">題名</span>
                            <span class="modal-message-detail text">メッセージ</span>
                        </div>

                        <div id="buttonAreaModal">
							<button class="button-modal btn-common button-0" role="button"></button>
							<button class="button-modal btn-common button-1" role="button"></button>
							<button class="button-modal btn-common button-2" role="button"></button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- 内訳ダイアログ  -->
    <div class="overlay">
        <div class="container-mainform">
            <div class="wrap-mainform p-t-30 p-b-40" style="padding-top: 60px;">
                <i class="fa-sharp fa-solid fa-circle-xmark" id="close-icon"></i>
                <form id="receipt_form" class="dialog_form" action="">

                    <span id="titleDialog" class="text ta-c fw-b" style="width: 100%; display: block;">
                        入金取引区分選択
                    </span>

                    <div class="table-container">
                        <table id="receipt_table" class="result-detail"></table>
                    </div>
                </form>

                <form id="receipt_form" class="dialog_form" action="">

                    <span id="titleDialog" class="text ta-c fw-b" style="width: 100%; display: block;">
                        入金取引区分選択
                    </span>

                    <div class="table-container">
                        <table id="receipt_table" class="result-detail">
                            <tr class="h-40">
                                <td>
                                    <span class="ta-l text">busfdat1</span>
                                </td>
                            </tr>
                            <tr class="h-40">
                                <td>
                                    <span class="ta-l text">busfdat2</span>
                                </td>
                            </tr>
                            <tr class="h-40">
                                <td>
                                    <span class="ta-l text">busfdat3</span>
                                </td>
                            </tr>
                            <tr class="h-40">
                                <td>
                                    <span class="ta-l text">busfdat4</span>
                                </td>
                            </tr>
                            <tr class="h-40">
                                <td>
                                    <span class="ta-l text">busfdat5</span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </form>

            </div>
        </div>
    </div>


    <script type="text/javascript"
        src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>
    <script src="vendor/daterangepicker/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/g/filesaver.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <script type="module" src="./js/Common/check_data.js"></script>
    <script type="module" src="./js/purchase.js"></script>

</body>

</html>